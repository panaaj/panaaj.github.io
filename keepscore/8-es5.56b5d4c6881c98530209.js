function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,n,a){return n&&_defineProperties(e.prototype,n),a&&_defineProperties(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{yPrK:function(e,n,a){"use strict";a.r(n);var t=a("ofXK"),o=a("3Pt+"),i=a("tyNb"),c=a("nl41"),r=a("N1P7"),l=a("fXoL"),b=a("NFeN"),s=a("MutI"),d=a("7EHt"),g=a("kmnG"),p=a("qFsG"),h=a("TObe"),m=a("d3UM"),u=a("bTqV"),f=a("Qu3c"),v=a("FKr1");function w(e,n){if(1&e&&(l.Sb(0,"span"),l.wc(1),l.Rb()),2&e){var a=l.cc();l.Bb(1),l.xc(a.game.teams.home.name)}}function S(e,n){1&e&&(l.Sb(0,"span"),l.Sb(1,"div",41),l.wc(2,"Team Logo file not selected...."),l.Rb(),l.Rb())}function R(e,n){1&e&&(l.Sb(0,"span",42),l.wc(1,"Selected file is larger than 100KB!"),l.Ob(2,"br"),l.Rb())}function y(e,n){if(1&e){var a=l.Tb();l.Sb(0,"span"),l.Ob(1,"img",43),l.Sb(2,"a",44),l.ac("click",(function(){return l.pc(a),l.cc().handleClear()})),l.wc(3,"\xa0\xa0"),l.Sb(4,"mat-icon"),l.wc(5,"delete_forever"),l.Rb(),l.Rb(),l.Rb()}if(2&e){var t=l.cc();l.Bb(1),l.Cb("src",t.logo,l.qc)}}function x(e,n){if(1&e){var a=l.Tb();l.Sb(0,"div",45),l.Sb(1,"div",46),l.Sb(2,"div",47),l.Sb(3,"span",48),l.wc(4," Home Team "),l.Rb(),l.Rb(),l.Rb(),l.Sb(5,"div",11),l.Sb(6,"input",49,50),l.ac("change",(function(){l.pc(a);var e=l.nc(7);return l.cc().handlePicked(e,!0)})),l.Rb(),l.wc(8," Text Color "),l.Ob(9,"br"),l.Sb(10,"input",49,51),l.ac("change",(function(){l.pc(a);var e=l.nc(11);return l.cc().handlePicked(e)})),l.Rb(),l.wc(12," Back Color \xa0\xa0 "),l.Sb(13,"button",52),l.ac("click",(function(){return l.pc(a),l.cc().resetDefault()})),l.Sb(14,"mat-icon"),l.wc(15,"refresh"),l.Rb(),l.Rb(),l.Rb(),l.Sb(16,"div",17),l.wc(17," Personalise Home team colors. "),l.Rb(),l.Rb()}if(2&e){var t=l.cc();l.Bb(3),l.uc("background-color",t.backcolor)("color",t.forecolor),l.Bb(3),l.hc("value",t.forecolor),l.Bb(4),l.hc("value",t.backcolor)}}function C(e,n){if(1&e&&(l.Sb(0,"span"),l.wc(1),l.Rb()),2&e){var a=l.cc();l.Bb(1),l.xc(a.game.teams.away.name)}}function k(e,n){1&e&&(l.Sb(0,"span"),l.wc(1,"Quarters"),l.Rb())}function O(e,n){1&e&&(l.Sb(0,"span"),l.wc(1,"Halves"),l.Rb())}function M(e,n){if(1&e&&(l.Sb(0,"span"),l.wc(1),l.vc(2,k,2,0,"span",8),l.vc(3,O,2,0,"span",8),l.Rb()),2&e){var a=l.cc();l.Bb(1),l.zc(" ",a.game.settings.periodTotal," x\xa0 ",a.game.settings.periodLength," min\xa0 "),l.Bb(1),l.hc("ngIf",4==a.game.settings.periodTotal),l.Bb(1),l.hc("ngIf",2==a.game.settings.periodTotal)}}function P(e,n){if(1&e&&(l.Sb(0,"mat-option",53),l.wc(1),l.Rb()),2&e){var a=n.$implicit;l.hc("value",a),l.Bb(1),l.xc(a)}}function B(e,n){1&e&&(l.Sb(0,"span",54),l.wc(1,"Enter a number between 5 - 30"),l.Rb())}var _,T,I=function(){return[2,4]},F=[{path:"",component:(_=function(){function e(n,a,t){var o=this;_classCallCheck(this,e),this.app=n,this.route=a,this.game=t,this.forecolor="",this.backcolor="",this.logoerror=!1,this.valueError=!1,this.game=t,this.app=n,this.dbSub=this.game.db.dbReady$.subscribe((function(e){o.displayLogo()}))}return _createClass(e,[{key:"ngOnInit",value:function(){this.title=this.route.snapshot.data.title,this.forecolor=this.app.config.home.color,this.backcolor=this.app.config.home.backcolor,this.displayLogo()}},{key:"ngOnDestroy",value:function(){this.dbSub.unsubscribe()}},{key:"handlePicked",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n?(this.forecolor=e.value,this.app.config.home.color=this.forecolor):(this.backcolor=e.value,this.app.config.home.backcolor=this.backcolor),this.app.saveConfig()}},{key:"resetDefault",value:function(){this.app.config.home.color="#FFFFFF",this.app.config.home.backcolor="#9B9B9B",this.forecolor=this.app.config.home.color,this.backcolor=this.app.config.home.backcolor,this.app.saveConfig()}},{key:"handleFileError",value:function(e){console.warn(e),this.logoerror=!0}},{key:"handleFileChosen",value:function(e){console.info("File Chosen..."),this.logoerror=!1,this.game.db.setLogo(e.data),this.logo=e.data}},{key:"handleClear",value:function(){console.warn("cleared"),this.logo=null,this.game.db.setLogo(null)}},{key:"displayLogo",value:function(){var e=this;this.game.db.getLogo().then((function(e){this.logo=e?e.value:null}).bind(this),(function(n){e.app.debug(n,"warning")}))}},{key:"persistChange",value:function(e){switch(arguments.length>1&&void 0!==arguments[1]&&arguments[1],e.key){case"home":this.game.teams.home.name=0==e.value.length?"Home":e.value;break;case"away":this.game.teams.away.name=0==e.value.length?"Visitors":e.value;break;case"duration":var n=parseInt(e.value);isNaN(n)||n<5||n>30?(this.valueError=!0,console.warn("Settings: periodLength range error.."+n+" : "+this.valueError)):(this.game.settings.periodLength=n,this.valueError=!1)}this.valueError||this.game.save()}}]),e}(),_.\u0275fac=function(e){return new(e||_)(l.Nb(c.a),l.Nb(i.a),l.Nb(r.a))},_.\u0275cmp=l.Hb({type:_,selectors:[["app-settings-page"]],decls:126,vars:25,consts:[["theme-page","",1,"settingspanel"],[1,"title"],[2,"background-color","rgba(250,250,250,.4)"],["mat-list-avatar",""],["name","frmSettings","novalidation",""],[1,"",3,"multi"],[1,"home",3,"expanded"],["pnlHome",""],[4,"ngIf"],[1,"home",2,"display","flex"],[1,"col1"],[1,"col2"],["matInput","","required","","type","text","minlength","1","maxlength","50","placeholder","Home Team Name",1,"",3,"value","change"],["home",""],[1,"col3",2,"font-weight","bold","font-style","italic"],["matInput","","name","hometw","type","text","maxlength","30","placeholder","Twitter @username",1,"",3,"ngModel","ngModelChange","change"],["hometw",""],[1,"col3"],["accept","image/*","label","Team Logo",3,"icon","chosen","invalid","cleared"],["style","color:red;",4,"ngIf"],["class","_home","style","display: flex;",4,"ngIf"],[1,"away",3,"expanded"],["pnlAway",""],[1,"away",2,"display","flex"],["matInput","","required","","type","text","minlength","1","maxlength","50","placeholder","Away Team Name",1,"",3,"value","change"],["away",""],["matInput","","name","awaytw","type","text","maxlength","30","placeholder","@username",1,"",3,"ngModel","ngModelChange","change"],["awaytw",""],[3,"expanded"],["pnlGame",""],[1,"",2,"display","flex"],["matInput","","name","grade","type","text","nmaxlength","50","placeholder","e.g. U18, B grade",1,"",3,"ngModel","ngModelChange","change"],["grade",""],[2,"padding-bottom","1.29688em"],["name","periods",3,"ngModel","disabled","ngModelChange","change"],["periods",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","id","inpduration","required","","type","number","min","1","max","30","pattern","[0-9]*","placeholder","mins",2,"width","100px",3,"disabled","value","change"],["duration",""],["mdSuffix",""],["class","error",4,"ngIf"],[2,"height","45px"],[2,"color","red"],[2,"width","50px","height","50px"],["title","Remove Logo",2,"cursor","pointer","color","red",3,"click"],[1,"_home",2,"display","flex"],[1,"col1",2,"font-family","leaguegothic","font-size","16pt"],[2,"padding","0 10px 0 0"],[2,"padding","2px 10px"],["type","Color",3,"value","change"],["pickforecolor",""],["pickbackcolor",""],["mat-icon-button","","matTooltip","Reset to Default",3,"click"],[3,"value"],[1,"error"]],template:function(e,n){if(1&e){var a=l.Tb();l.Sb(0,"div",0),l.Sb(1,"div",1),l.Sb(2,"h1",2),l.Sb(3,"mat-icon",3),l.wc(4,"settings"),l.Rb(),l.wc(5),l.Rb(),l.Rb(),l.Sb(6,"form",4),l.Sb(7,"mat-accordion",5),l.Sb(8,"mat-expansion-panel",6,7),l.Sb(10,"mat-expansion-panel-header"),l.Sb(11,"mat-panel-description"),l.vc(12,w,2,1,"span",8),l.Rb(),l.Sb(13,"mat-panel-title"),l.wc(14,"Home Team:"),l.Rb(),l.Rb(),l.Sb(15,"div",9),l.Sb(16,"div",10),l.Sb(17,"label"),l.Ob(18,"br"),l.wc(19,"Name:"),l.Rb(),l.Rb(),l.Sb(20,"div",11),l.Sb(21,"mat-form-field"),l.Sb(22,"input",12,13),l.ac("change",(function(){l.pc(a);var e=l.nc(23);return n.persistChange({key:"home",value:e.value})})),l.Rb(),l.Rb(),l.Rb(),l.Sb(24,"div",14),l.Ob(25,"br"),l.wc(26,"*Required: Please enter Home Team Name "),l.Rb(),l.Rb(),l.Sb(27,"div",9),l.Sb(28,"div",10),l.Sb(29,"label"),l.Ob(30,"br"),l.wc(31,"Twitter:"),l.Rb(),l.Rb(),l.Sb(32,"div",11),l.Sb(33,"mat-form-field"),l.Sb(34,"input",15,16),l.ac("ngModelChange",(function(e){return n.game.teams.home.social.twitter=e}))("change",(function(){l.pc(a);var e=l.nc(35);return n.persistChange({key:"hometw",value:e.value})})),l.Rb(),l.Rb(),l.Rb(),l.Sb(36,"div",17),l.Ob(37,"br"),l.wc(38,"Home Team Twitter user name. "),l.Rb(),l.Rb(),l.Sb(39,"div",9),l.Sb(40,"div",10),l.Sb(41,"ap-file-input",18),l.ac("chosen",(function(e){return n.handleFileChosen(e)}))("invalid",(function(e){return n.handleFileError(e)}))("cleared",(function(){return n.handleClear()})),l.Rb(),l.Rb(),l.Sb(42,"div",11),l.vc(43,S,3,0,"span",8),l.vc(44,R,3,0,"span",19),l.vc(45,y,6,1,"span",8),l.Rb(),l.Sb(46,"div",17),l.wc(47," Upload a team logo. filesize < 100KB "),l.Rb(),l.Rb(),l.vc(48,x,18,6,"div",20),l.Rb(),l.Sb(49,"mat-expansion-panel",21,22),l.Sb(51,"mat-expansion-panel-header"),l.Sb(52,"mat-panel-description"),l.vc(53,C,2,1,"span",8),l.Rb(),l.Sb(54,"mat-panel-title"),l.wc(55,"Away Team:"),l.Rb(),l.Rb(),l.Sb(56,"div",23),l.Sb(57,"div",10),l.Sb(58,"label"),l.Ob(59,"br"),l.wc(60,"Name:"),l.Rb(),l.Rb(),l.Sb(61,"div",11),l.Sb(62,"mat-form-field"),l.Sb(63,"input",24,25),l.ac("change",(function(){l.pc(a);var e=l.nc(64);return n.persistChange({key:"away",value:e.value})})),l.Rb(),l.Rb(),l.Rb(),l.Sb(65,"div",14),l.Ob(66,"br"),l.wc(67,"*Required: Please enter Away Team Name "),l.Rb(),l.Rb(),l.Sb(68,"div",23),l.Sb(69,"div",10),l.Sb(70,"label"),l.Ob(71,"br"),l.wc(72,"Twitter:"),l.Rb(),l.Rb(),l.Sb(73,"div",11),l.Sb(74,"mat-form-field"),l.Sb(75,"input",26,27),l.ac("ngModelChange",(function(e){return n.game.teams.away.social.twitter=e}))("change",(function(){l.pc(a);var e=l.nc(76);return n.persistChange({key:"awaytw",value:e.value})})),l.Rb(),l.Rb(),l.Rb(),l.Sb(77,"div",17),l.Ob(78,"br"),l.wc(79,"Away Team Twitter user name "),l.Rb(),l.Rb(),l.Rb(),l.Sb(80,"mat-expansion-panel",28,29),l.Sb(82,"mat-expansion-panel-header"),l.Sb(83,"mat-panel-description"),l.vc(84,M,4,4,"span",8),l.Rb(),l.Sb(85,"mat-panel-title"),l.wc(86,"Game Details:"),l.Rb(),l.Rb(),l.Sb(87,"div",30),l.Sb(88,"div",10),l.Sb(89,"label"),l.Ob(90,"br"),l.wc(91,"Grade:"),l.Rb(),l.Rb(),l.Sb(92,"div",11),l.Sb(93,"mat-form-field"),l.Sb(94,"input",31,32),l.ac("ngModelChange",(function(e){return n.game.settings.grade=e}))("change",(function(){l.pc(a);var e=l.nc(95);return n.persistChange({key:"grade",value:e.value})})),l.Rb(),l.Rb(),l.Rb(),l.Sb(96,"div",17),l.Ob(97,"br"),l.wc(98,"Please enter the Grade level of this game. "),l.Rb(),l.Rb(),l.Sb(99,"div",30),l.Sb(100,"div",10),l.Sb(101,"label"),l.wc(102,"Periods:"),l.Rb(),l.Rb(),l.Sb(103,"div",11),l.Sb(104,"div",33),l.Sb(105,"mat-select",34,35),l.ac("ngModelChange",(function(e){return n.game.settings.periodTotal=e}))("change",(function(){l.pc(a);var e=l.nc(106);return n.persistChange({key:"periods",value:e.value})})),l.vc(107,P,2,2,"mat-option",36),l.Rb(),l.Rb(),l.Rb(),l.Sb(108,"div",17),l.Ob(109,"br"),l.wc(110," Select the number of game periods. "),l.Rb(),l.Rb(),l.Sb(111,"div",30),l.Sb(112,"div",10),l.Sb(113,"label"),l.wc(114,"Period Duration:"),l.Rb(),l.Rb(),l.Sb(115,"div",11),l.Sb(116,"mat-form-field"),l.Sb(117,"input",37,38),l.ac("change",(function(e){l.pc(a);var t=l.nc(118);return n.persistChange({key:"duration",value:t.value},e)})),l.Rb(),l.Sb(119,"span",39),l.wc(120,"mins"),l.Rb(),l.Rb(),l.Ob(121,"br"),l.vc(122,B,2,0,"span",40),l.Rb(),l.Sb(123,"div",14),l.Ob(124,"br"),l.wc(125,"*Required: Enter a period length between 5 - 30 mins. "),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb()}if(2&e){var t=l.nc(9),o=l.nc(50),i=l.nc(81);l.Bb(5),l.yc("\xa0",n.title,""),l.Bb(2),l.hc("multi",!1),l.Bb(1),l.hc("expanded",!1),l.Bb(4),l.hc("ngIf",!t.expanded),l.Bb(10),l.ic("value",n.game.teams.home.name),l.Bb(12),l.hc("ngModel",n.game.teams.home.social.twitter),l.Bb(7),l.hc("icon",!0),l.Bb(2),l.hc("ngIf",!n.logo),l.Bb(1),l.hc("ngIf",n.logoerror),l.Bb(1),l.hc("ngIf",n.logo),l.Bb(3),l.hc("ngIf",!n.app.platform.mobile),l.Bb(1),l.hc("expanded",!1),l.Bb(4),l.hc("ngIf",!o.expanded),l.Bb(10),l.ic("value",n.game.teams.away.name),l.Bb(12),l.hc("ngModel",n.game.teams.away.social.twitter),l.Bb(5),l.hc("expanded",!0),l.Bb(4),l.hc("ngIf",!i.expanded),l.Bb(10),l.hc("ngModel",n.game.settings.grade),l.Bb(11),l.hc("ngModel",n.game.settings.periodTotal)("disabled",n.game.progress.gameStarted||n.game.progress.gameOver),l.Bb(2),l.hc("ngForOf",l.jc(24,I)),l.Bb(10),l.ic("value",n.game.settings.periodLength),l.hc("disabled",n.game.progress.gameStarted||n.game.progress.gameOver),l.Bb(5),l.hc("ngIf",n.valueError)}},directives:[b.a,s.a,o.k,o.h,o.i,d.a,d.c,d.e,d.d,t.k,d.f,g.a,p.a,o.a,o.d,o.g,o.j,h.a,m.a,t.j,u.b,f.a,v.i],styles:[".settingspanel[_ngcontent-%COMP%]{font-size:14pt;background-color:#fff;color:#212121}.settingspanel[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{background-color:#000;border-bottom:1px solid #000;color:#fff;font-size:18pt}.col1[_ngcontent-%COMP%]{max-width:110px;min-width:110px}.col2[_ngcontent-%COMP%]{-webkit-box-flex:50;-moz-box-flex:50;width:20%;flex:50 0 auto}.col3[_ngcontent-%COMP%]{display:none}.error[_ngcontent-%COMP%]{color:red}form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:14pt}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{max-width:70%}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled, form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled{background-color:hsla(0,0%,98%,.8)}#inpduration[_ngcontent-%COMP%]{width:inherit}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{font-size:inherit}.mat-expansion-panel-body[_ngcontent-%COMP%]{background-color:#f5f5f5!important}@media only screen and (min-device-width:768px) and (max-device-width:1024px),only screen and (min-width:800px){.col3[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .settingspanel-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){display:block;text-align:left}.col2[_ngcontent-%COMP%], .settingspanel-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){-webkit-box-flex:1;-moz-box-flex:1;width:20%;flex:1 1 auto;min-width:300px}.col3[_ngcontent-%COMP%], .settingspanel-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){-webkit-box-flex:50;-moz-box-flex:50;width:20%;flex:50 0 auto;font-size:smaller}}"]}),_),data:{title:"Settings"}}],L=((T=function e(){_classCallCheck(this,e)}).\u0275mod=l.Lb({type:T}),T.\u0275inj=l.Kb({factory:function(e){return new(e||T)},imports:[[i.e.forChild(F)],i.e]}),T),N=a("Bb+X"),E=a("oUsq");a.d(n,"SettingsModule",(function(){return H}));var z,H=((z=function e(){_classCallCheck(this,e)}).\u0275mod=l.Lb({type:z}),z.\u0275inj=l.Kb({factory:function(e){return new(e||z)},imports:[[t.c,o.c,E.a,L,N.a]]}),z)}}]);