function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"5a81":function(e,t,n){"use strict";n.r(t);var i=n("ofXK"),a=n("tyNb"),o=n("nl41"),r=n("N1P7"),l=n("fXoL"),c=n("NFeN"),s=n("MutI"),b=n("bTqV"),p=n("TObe");function d(e,t){if(1&e){var n=l.Tb();l.Sb(0,"span"),l.Sb(1,"a",16),l.ac("click",(function(){return l.pc(n),l.cc().handleClear(!0)})),l.wc(2,"\xa0\xa0"),l.Sb(3,"mat-icon"),l.wc(4,"delete_forever"),l.Rb(),l.Rb(),l.Rb()}}function h(e,t){1&e&&(l.Sb(0,"span"),l.wc(1,"Selected Team Roster file not valid!"),l.Rb())}function m(e,t){if(1&e&&(l.Sb(0,"div",17),l.Sb(1,"div"),l.Sb(2,"div",18),l.Sb(3,"mat-icon"),l.wc(4,"perm_identity"),l.Rb(),l.wc(5),l.Rb(),l.Rb(),l.Sb(6,"div"),l.wc(7),l.Rb(),l.Rb()),2&e){var n=t.$implicit,i=l.cc();l.Bb(2),l.uc("background-color",i.app.config.home.backcolor)("color",i.app.config.home.color),l.Eb("home",!1),l.Bb(3),l.yc(" ",n.playerno," "),l.Bb(2),l.zc("",n.firstname,"\xa0",n.lastname,"")}}function f(e,t){if(1&e){var n=l.Tb();l.Sb(0,"span"),l.Sb(1,"a",16),l.ac("click",(function(){return l.pc(n),l.cc().handleClear()})),l.wc(2,"\xa0\xa0"),l.Sb(3,"mat-icon"),l.wc(4,"delete_forever"),l.Rb(),l.Rb(),l.Rb()}}function u(e,t){1&e&&(l.Sb(0,"span"),l.wc(1,"Selected Team Roster file not valid!"),l.Rb())}function g(e,t){if(1&e&&(l.Sb(0,"div",17),l.Sb(1,"div"),l.Sb(2,"div",19),l.Sb(3,"mat-icon"),l.wc(4,"perm_identity"),l.Rb(),l.wc(5),l.Rb(),l.Rb(),l.Sb(6,"div"),l.wc(7),l.Rb(),l.Rb()),2&e){var n=t.$implicit;l.Bb(2),l.Eb("away",!0),l.Bb(3),l.yc(" ",n.playerno," "),l.Bb(2),l.zc("",n.firstname,"\xa0",n.lastname,"")}}var w,v,R=[{path:"",component:(w=function(){function e(t,n,i){var a=this;_classCallCheck(this,e),this.app=t,this.route=n,this.game=i,this.homeerror=!1,this.awayerror=!1,this.homeRoster=[],this.awayRoster=[],this.game=i,this.app=t,this.db=this.game.db,this.dbSub=this.db.dbReady$.subscribe((function(e){a.getRoster(!0),a.getRoster(!1)}))}return _createClass(e,[{key:"ngOnInit",value:function(){this.title=this.route.snapshot.data.title,this.getRoster(!0),this.getRoster(!1)}},{key:"ngOnDestroy",value:function(){this.dbSub.unsubscribe()}},{key:"getRoster",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.app.debug("getRoster "+t),t?this.db.getRoster(t).then((function(e){this.homeRoster=e}).bind(this),(function(t){e.app.debug("DB: Error retriving home team roster...","warn"),e.app.debug(t,"warn")})):this.db.getRoster(t).then((function(e){this.awayRoster=e}).bind(this),(function(t){e.app.debug("DB: Error retriving away team roster...","warn"),e.app.debug(t,"warn")}))}},{key:"persistChange",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]}},{key:"handleFileError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.app.debug(e+" "+t,"warn")}},{key:"handleFileChosen",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.app.debug("File Chosen..."+t,"info"),t?this.homeerror=!1:this.awayerror=!1;var n=e.data.split("\n");if("#teamlist"!=n[0].replace("\r",""))return this.app.debug("Invalid roster file!","warn"),void(t?this.homeerror=!0:this.awayerror=!0);for(var i=[],a=1;a<n.length;++a){var o=n[a].split(",");!isNaN(o[0])&&o[2]&&(this.app.debug(o[0]+" "+o[1]+" "+o[2]),i.push({playerno:parseInt(o[0]),firstname:o[1],lastname:o[2].replace("\r","")}))}this.db.addRoster(i,t)}},{key:"handleClear",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t?this.db.clearRoster(t).then((function(){e.app.debug("Cleared Home team roster"),e.homeRoster=[]}),(function(t){e.app.debug(t)})):this.db.clearRoster(t).then((function(){e.app.debug("Cleared Away team roster"),e.awayRoster=[]}),(function(t){e.app.debug(t)}))}}]),e}(),w.\u0275fac=function(e){return new(e||w)(l.Nb(o.a),l.Nb(a.a),l.Nb(r.a))},w.\u0275cmp=l.Hb({type:w,selectors:[["app-teamlist-page"]],decls:32,vars:21,consts:[["theme-page","",1,"teamlistpanel"],[1,"title"],[2,"background-color","rgba(250,250,250,.4)"],["mat-list-avatar",""],[2,"font-size","14pt","font-weight","normal"],["mat-icon-button","","href","assets/teamlist-template.txt","target","_team",2,"color","white"],["theme-panel","",1,"teamlistpanel-col"],[1,"teamlistpanel-row"],[1,"title","teamlistpanel-row-item","home"],[1,"teamlistpanel-row-item",2,"border-bottom","gray 1px solid"],["accept","","label","Team List",3,"multiple","astext","disabled","preview","icon","chosen","invalid","cleared"],[4,"ngIf"],[1,"teamroster"],["class","teamroster-item",4,"ngFor","ngForOf"],[1,"teamlistpanel-row",2,"border-left","gray 1px solid"],[1,"title","teamlistpanel-row-item","away"],["title","Clear Team List",2,"cursor","pointer","color","red",3,"click"],[1,"teamroster-item"],[2,"min-width","75px","max-width","75px","text-align","center","border-radius","50px"],[2,"width","75px","text-align","center","border-radius","50px"]],template:function(e,t){1&e&&(l.Sb(0,"div",0),l.Sb(1,"div",1),l.Sb(2,"h1",2),l.Sb(3,"mat-icon",3),l.wc(4,"people"),l.Rb(),l.wc(5),l.Sb(6,"span",4),l.Sb(7,"a",5),l.Sb(8,"mat-icon"),l.wc(9,"content_copy"),l.Rb(),l.wc(10," Team List template"),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Sb(11,"div",6),l.Sb(12,"div",7),l.Sb(13,"div",8),l.wc(14,"\xa0\xa0Home Team: "),l.Rb(),l.Sb(15,"div",9),l.Sb(16,"ap-file-input",10),l.ac("chosen",(function(e){return t.handleFileChosen(e,!0)}))("invalid",(function(e){return t.handleFileError(e,!0)}))("cleared",(function(){return t.handleClear(!0)})),l.Rb(),l.vc(17,d,5,0,"span",11),l.Ob(18,"br"),l.vc(19,h,2,0,"span",11),l.Rb(),l.Sb(20,"div",12),l.vc(21,m,8,9,"div",13),l.Rb(),l.Rb(),l.Sb(22,"div",14),l.Sb(23,"div",15),l.wc(24,"\xa0\xa0Away Team: "),l.Rb(),l.Sb(25,"div",9),l.Sb(26,"ap-file-input",10),l.ac("chosen",(function(e){return t.handleFileChosen(e)}))("invalid",(function(e){return t.handleFileError(e)}))("cleared",(function(e){return t.handleClear(e)})),l.Rb(),l.vc(27,f,5,0,"span",11),l.Ob(28,"br"),l.vc(29,u,2,0,"span",11),l.Rb(),l.Sb(30,"div",12),l.vc(31,g,8,5,"div",13),l.Rb(),l.Rb(),l.Rb(),l.Rb()),2&e&&(l.Bb(5),l.yc("\xa0",t.title," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),l.Bb(8),l.uc("background-color",t.app.config.home.backcolor)("color",t.app.config.home.color),l.Bb(3),l.hc("multiple",!1)("astext",!0)("disabled",0!=t.homeRoster.length)("preview",!1)("icon",!0),l.Bb(1),l.hc("ngIf",0!=t.homeRoster.length),l.Bb(2),l.hc("ngIf",t.homeerror),l.Bb(2),l.hc("ngForOf",t.homeRoster),l.Bb(5),l.hc("multiple",!1)("astext",!0)("disabled",0!=t.awayRoster.length)("preview",!1)("icon",!0),l.Bb(1),l.hc("ngIf",0!=t.awayRoster.length),l.Bb(2),l.hc("ngIf",t.awayerror),l.Bb(2),l.hc("ngForOf",t.awayRoster))},directives:[c.a,s.a,b.a,p.a,i.k,i.j],styles:[".teamlistpanel[_ngcontent-%COMP%]{font-size:14pt}.teamlistpanel[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{border-bottom:1px solid #000;font-size:18pt;font-family:leaguegothic}.teamlistpanel-col[_ngcontent-%COMP%]{-webkit-box-orient:horizontal;flex-direction:row}.teamlistpanel-col[_ngcontent-%COMP%], .teamlistpanel-row[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-direction:normal;flex-wrap:nowrap;-webkit-box-pack:start;justify-content:flex-start;-webkit-box-align:start;align-items:flex-start;align-content:stretch;min-height:15px;border-radius:0;font-family:arial;font-size:12pt}.teamlistpanel-row[_ngcontent-%COMP%]{-webkit-box-orient:vertical;flex-direction:column}.teamlistpanel-row[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%]{border-left:1px solid #fff}.teamlistpanel-col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .teamlistpanel-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 1 auto;vertical-align:middle}.teamlistpanel-row-item[_ngcontent-%COMP%]{min-width:100%;max-width:100%}.teamlistpanel-row[_ngcontent-%COMP%]   .teamroster[_ngcontent-%COMP%]{position:relative;width:100%}.teamlistpanel-row[_ngcontent-%COMP%]   .teamroster-item[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}.teamlistpanel-row[_ngcontent-%COMP%]   .teamroster[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%]{background-color:rgba(33,33,33,.5);color:#fff}.teamlistpanel-row[_ngcontent-%COMP%]   .teamroster-item[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-bottom:1px solid grey}.teamlistpanel-row[_ngcontent-%COMP%]   .teamroster-item[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{min-width:105px;max-width:105px}.error[_ngcontent-%COMP%]{color:red}"]}),w),data:{title:"Team Lists"}}],y=((v=function e(){_classCallCheck(this,e)}).\u0275mod=l.Lb({type:v}),v.\u0275inj=l.Kb({factory:function(e){return new(e||v)},imports:[[a.e.forChild(R)],a.e]}),v),C=n("Bb+X"),_=n("oUsq");n.d(t,"TeamListModule",(function(){return S}));var x,S=((x=function e(){_classCallCheck(this,e)}).\u0275mod=l.Lb({type:x}),x.\u0275inj=l.Kb({factory:function(e){return new(e||x)},imports:[[i.c,_.a,y,C.a]]}),x)}}]);