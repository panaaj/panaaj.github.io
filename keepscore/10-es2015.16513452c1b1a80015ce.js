(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"5a81":function(t,e,n){"use strict";n.r(e);var i=n("ofXK"),o=n("tyNb"),a=n("nl41"),r=n("N1P7"),s=n("fXoL"),l=n("NFeN"),c=n("MutI"),b=n("bTqV"),p=n("TObe");function d(t,e){if(1&t){const t=s.Tb();s.Sb(0,"span"),s.Sb(1,"a",16),s.ac("click",(function(){return s.pc(t),s.cc().handleClear(!0)})),s.wc(2,"\xa0\xa0"),s.Sb(3,"mat-icon"),s.wc(4,"delete_forever"),s.Rb(),s.Rb(),s.Rb()}}function m(t,e){1&t&&(s.Sb(0,"span"),s.wc(1,"Selected Team Roster file not valid!"),s.Rb())}function h(t,e){if(1&t&&(s.Sb(0,"div",17),s.Sb(1,"div"),s.Sb(2,"div",18),s.Sb(3,"mat-icon"),s.wc(4,"perm_identity"),s.Rb(),s.wc(5),s.Rb(),s.Rb(),s.Sb(6,"div"),s.wc(7),s.Rb(),s.Rb()),2&t){const t=e.$implicit,n=s.cc();s.Bb(2),s.uc("background-color",n.app.config.home.backcolor)("color",n.app.config.home.color),s.Eb("home",!1),s.Bb(3),s.yc(" ",t.playerno," "),s.Bb(2),s.zc("",t.firstname,"\xa0",t.lastname,"")}}function g(t,e){if(1&t){const t=s.Tb();s.Sb(0,"span"),s.Sb(1,"a",16),s.ac("click",(function(){return s.pc(t),s.cc().handleClear()})),s.wc(2,"\xa0\xa0"),s.Sb(3,"mat-icon"),s.wc(4,"delete_forever"),s.Rb(),s.Rb(),s.Rb()}}function w(t,e){1&t&&(s.Sb(0,"span"),s.wc(1,"Selected Team Roster file not valid!"),s.Rb())}function f(t,e){if(1&t&&(s.Sb(0,"div",17),s.Sb(1,"div"),s.Sb(2,"div",19),s.Sb(3,"mat-icon"),s.wc(4,"perm_identity"),s.Rb(),s.wc(5),s.Rb(),s.Rb(),s.Sb(6,"div"),s.wc(7),s.Rb(),s.Rb()),2&t){const t=e.$implicit;s.Bb(2),s.Eb("away",!0),s.Bb(3),s.yc(" ",t.playerno," "),s.Bb(2),s.zc("",t.firstname,"\xa0",t.lastname,"")}}const u=[{path:"",component:(()=>{class t{constructor(t,e,n){this.app=t,this.route=e,this.game=n,this.homeerror=!1,this.awayerror=!1,this.homeRoster=[],this.awayRoster=[],this.game=n,this.app=t,this.db=this.game.db,this.dbSub=this.db.dbReady$.subscribe(t=>{this.getRoster(!0),this.getRoster(!1)})}ngOnInit(){this.title=this.route.snapshot.data.title,this.getRoster(!0),this.getRoster(!1)}ngOnDestroy(){this.dbSub.unsubscribe()}getRoster(t=!1){this.app.debug("getRoster "+t),t?this.db.getRoster(t).then((function(t){this.homeRoster=t}).bind(this),t=>{this.app.debug("DB: Error retriving home team roster...","warn"),this.app.debug(t,"warn")}):this.db.getRoster(t).then((function(t){this.awayRoster=t}).bind(this),t=>{this.app.debug("DB: Error retriving away team roster...","warn"),this.app.debug(t,"warn")})}persistChange(t,e=null){}handleFileError(t,e=!1){this.app.debug(t+" "+e,"warn")}handleFileChosen(t,e=!1){this.app.debug("File Chosen..."+e,"info"),e?this.homeerror=!1:this.awayerror=!1;let n=t.data.split("\n");if("#teamlist"!=n[0].replace("\r",""))return this.app.debug("Invalid roster file!","warn"),void(e?this.homeerror=!0:this.awayerror=!0);let i=[];for(let o=1;o<n.length;++o){let t=n[o].split(",");!isNaN(t[0])&&t[2]&&(this.app.debug(t[0]+" "+t[1]+" "+t[2]),i.push({playerno:parseInt(t[0]),firstname:t[1],lastname:t[2].replace("\r","")}))}this.db.addRoster(i,e)}handleClear(t=!1){t?this.db.clearRoster(t).then(()=>{this.app.debug("Cleared Home team roster"),this.homeRoster=[]},t=>{this.app.debug(t)}):this.db.clearRoster(t).then(()=>{this.app.debug("Cleared Away team roster"),this.awayRoster=[]},t=>{this.app.debug(t)})}}return t.\u0275fac=function(e){return new(e||t)(s.Nb(a.a),s.Nb(o.a),s.Nb(r.a))},t.\u0275cmp=s.Hb({type:t,selectors:[["app-teamlist-page"]],decls:32,vars:21,consts:[["theme-page","",1,"teamlistpanel"],[1,"title"],[2,"background-color","rgba(250,250,250,.4)"],["mat-list-avatar",""],[2,"font-size","14pt","font-weight","normal"],["mat-icon-button","","href","assets/teamlist-template.txt","target","_team",2,"color","white"],["theme-panel","",1,"teamlistpanel-col"],[1,"teamlistpanel-row"],[1,"title","teamlistpanel-row-item","home"],[1,"teamlistpanel-row-item",2,"border-bottom","gray 1px solid"],["accept","","label","Team List",3,"multiple","astext","disabled","preview","icon","chosen","invalid","cleared"],[4,"ngIf"],[1,"teamroster"],["class","teamroster-item",4,"ngFor","ngForOf"],[1,"teamlistpanel-row",2,"border-left","gray 1px solid"],[1,"title","teamlistpanel-row-item","away"],["title","Clear Team List",2,"cursor","pointer","color","red",3,"click"],[1,"teamroster-item"],[2,"min-width","75px","max-width","75px","text-align","center","border-radius","50px"],[2,"width","75px","text-align","center","border-radius","50px"]],template:function(t,e){1&t&&(s.Sb(0,"div",0),s.Sb(1,"div",1),s.Sb(2,"h1",2),s.Sb(3,"mat-icon",3),s.wc(4,"people"),s.Rb(),s.wc(5),s.Sb(6,"span",4),s.Sb(7,"a",5),s.Sb(8,"mat-icon"),s.wc(9,"content_copy"),s.Rb(),s.wc(10," Team List template"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(11,"div",6),s.Sb(12,"div",7),s.Sb(13,"div",8),s.wc(14,"\xa0\xa0Home Team: "),s.Rb(),s.Sb(15,"div",9),s.Sb(16,"ap-file-input",10),s.ac("chosen",(function(t){return e.handleFileChosen(t,!0)}))("invalid",(function(t){return e.handleFileError(t,!0)}))("cleared",(function(){return e.handleClear(!0)})),s.Rb(),s.vc(17,d,5,0,"span",11),s.Ob(18,"br"),s.vc(19,m,2,0,"span",11),s.Rb(),s.Sb(20,"div",12),s.vc(21,h,8,9,"div",13),s.Rb(),s.Rb(),s.Sb(22,"div",14),s.Sb(23,"div",15),s.wc(24,"\xa0\xa0Away Team: "),s.Rb(),s.Sb(25,"div",9),s.Sb(26,"ap-file-input",10),s.ac("chosen",(function(t){return e.handleFileChosen(t)}))("invalid",(function(t){return e.handleFileError(t)}))("cleared",(function(t){return e.handleClear(t)})),s.Rb(),s.vc(27,g,5,0,"span",11),s.Ob(28,"br"),s.vc(29,w,2,0,"span",11),s.Rb(),s.Sb(30,"div",12),s.vc(31,f,8,5,"div",13),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&t&&(s.Bb(5),s.yc("\xa0",e.title," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),s.Bb(8),s.uc("background-color",e.app.config.home.backcolor)("color",e.app.config.home.color),s.Bb(3),s.hc("multiple",!1)("astext",!0)("disabled",0!=e.homeRoster.length)("preview",!1)("icon",!0),s.Bb(1),s.hc("ngIf",0!=e.homeRoster.length),s.Bb(2),s.hc("ngIf",e.homeerror),s.Bb(2),s.hc("ngForOf",e.homeRoster),s.Bb(5),s.hc("multiple",!1)("astext",!0)("disabled",0!=e.awayRoster.length)("preview",!1)("icon",!0),s.Bb(1),s.hc("ngIf",0!=e.awayRoster.length),s.Bb(2),s.hc("ngIf",e.awayerror),s.Bb(2),s.hc("ngForOf",e.awayRoster))},directives:[l.a,c.a,b.a,p.a,i.k,i.j],styles:[".teamlistpanel[_ngcontent-%COMP%]{font-size:14pt}.teamlistpanel[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{border-bottom:1px solid #000;font-size:18pt;font-family:leaguegothic}.teamlistpanel-col[_ngcontent-%COMP%]{-webkit-box-orient:horizontal;flex-direction:row}.teamlistpanel-col[_ngcontent-%COMP%], .teamlistpanel-row[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-direction:normal;flex-wrap:nowrap;-webkit-box-pack:start;justify-content:flex-start;-webkit-box-align:start;align-items:flex-start;align-content:stretch;min-height:15px;border-radius:0;font-family:arial;font-size:12pt}.teamlistpanel-row[_ngcontent-%COMP%]{-webkit-box-orient:vertical;flex-direction:column}.teamlistpanel-row[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%]{border-left:1px solid #fff}.teamlistpanel-col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .teamlistpanel-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 1 auto;vertical-align:middle}.teamlistpanel-row-item[_ngcontent-%COMP%]{min-width:100%;max-width:100%}.teamlistpanel-row[_ngcontent-%COMP%]   .teamroster[_ngcontent-%COMP%]{position:relative;width:100%}.teamlistpanel-row[_ngcontent-%COMP%]   .teamroster-item[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}.teamlistpanel-row[_ngcontent-%COMP%]   .teamroster[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%]{background-color:rgba(33,33,33,.5);color:#fff}.teamlistpanel-row[_ngcontent-%COMP%]   .teamroster-item[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-bottom:1px solid grey}.teamlistpanel-row[_ngcontent-%COMP%]   .teamroster-item[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{min-width:105px;max-width:105px}.error[_ngcontent-%COMP%]{color:red}"]}),t})(),data:{title:"Team Lists"}}];let R=(()=>{class t{}return t.\u0275mod=s.Lb({type:t}),t.\u0275inj=s.Kb({factory:function(e){return new(e||t)},imports:[[o.e.forChild(u)],o.e]}),t})();var v=n("Bb+X"),y=n("oUsq");n.d(e,"TeamListModule",(function(){return x}));let x=(()=>{class t{}return t.\u0275mod=s.Lb({type:t}),t.\u0275inj=s.Kb({factory:function(e){return new(e||t)},imports:[[i.c,y.a,R,v.a]]}),t})()}}]);